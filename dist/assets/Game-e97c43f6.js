import{g as N,r as _,o as i,c as r,a as e,f as y,b as T,w as k,t as u,F as w,h as x,i as c,j as g,d as C,p as I,e as Q}from"./index-2e826f01.js";import L from"./TrueFalseGame-da7b1665.js";import j from"./SelectGame-36cdc4fd.js";import R from"./NumberInputGame-96a4e61f.js";import{_ as U}from"./logo-2a35bef7.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import"./VirtualNumPad-b1d11e7e.js";function S(s,a=""){const b=new Date,v=String(b.getMonth()+1).padStart(2,"0"),t=String(b.getDate()).padStart(2,"0"),l=v+t;var m=(d=>d.map(G=>G.join(",")).join(`
`))(s);m="\uFEFF"+m;var h=new Blob([m],{type:"text/csv;charset=utf-8;"});const p=URL.createObjectURL(h),n=document.createElement("a");n.href=p,n.download=`${a}_${l}.csv`,document.body.appendChild(n),n.click()}const z=""+new URL("previous-3dde6022.png",import.meta.url).href,D=""+new URL("next-6472dbad.png",import.meta.url).href,V=""+new URL("submit-a28a6feb.png",import.meta.url).href,q=""+new URL("start-975a6cab.png",import.meta.url).href,B=""+new URL("restart-71a84adc.png",import.meta.url).href,F=""+new URL("hint-246d1e79.png",import.meta.url).href,M=""+new URL("download-ee878fd7.png",import.meta.url).href,A=""+new URL("info-3a0296c2.png",import.meta.url).href,E=""+new URL("calculator-0f73568e.png",import.meta.url).href,H=""+new URL("record-055dff9a.png",import.meta.url).href,J=""+new URL("elephant-ed934cfa.gif",import.meta.url).href;const O={data(){return{GameType:"",GameStatus:"NotStart",download_data:[],GameID:"",Subject:"",Grade:"",Name:"",Nowlevel:1,Subjects:{Math:"數學",Chinese:"國語",Technology:"多元科技"},GameConfig:{},time:0,intervalId:null}},created(){this.GameID=this.$route.params.id,this.Subject=this.$route.params.Subject,this.Grade=this.$route.params.Grade,this.Name=this.$route.params.GameName,(async()=>{const s=await N("/Grade"+this.Grade+"/"+this.GameID+".json");this.GameConfig=s.data,this.GameType=this.GameConfig.GameType})()},methods:{dataPreprocess(){for(var s in this.GameConfig.Questions);console.log(levelname),S(levelname)},StartGame(){this.GameStatus="Progressing",this.startTimer(),this.dataPreprocess()},tocsv(s){console.log(s),S(s)},reloadPage(){location.reload()},changelevel(s){this.Nowlevel=s,this.pauseTimer(),this.resetTimer()},NextQuestion(){this.Nowlevel<this.GameConfig.TotalLevel&&this.Nowlevel++,this.pauseTimer(),this.resetTimer()},PreviousQuestion(){this.Nowlevel>1&&this.Nowlevel--,this.pauseTimer(),this.resetTimer()},startTimer(){console.log("timer is started"),!this.intervalId&&(this.intervalId=setInterval(()=>{this.time++},1e3))},pauseTimer(){clearInterval(this.intervalId),this.intervalId=null},resetTimer(){this.pauseTimer(),this.time=0}},components:{TrueFalseGame:L,SelectGame:j,NumberInputGame:R}},o=s=>(I("data-v-dbd1fc2b"),s=s(),Q(),s),K={class:"container navbar navbar-expand-lg navbar-light sticky-top justify-content-center",style:{"justify-content":"flex-start !important"}},W=o(()=>e("a",{class:"navbar-brand mt-2 mb-2",href:"#",alt:"Home"},[e("img",{src:U,class:"img-fluid"})],-1)),X={class:"container sticky-top",style:{"--bs-breadcrumb-divider":"'>'"}},Y={class:"breadcrumb mb-0"},Z=o(()=>e("li",{class:"breadcrumb-item"},[e("i",{class:"bi bi-house"}),e("a",{href:"#"}," 主頁")],-1)),$={class:"breadcrumb-item","aria-current":"page"},ee=o(()=>e("i",{class:"bi bi-book-half"},null,-1)),te={class:"breadcrumb-item active","aria-current":"page"},se=o(()=>e("i",{class:"bi bi-pen"},null,-1)),oe={class:"container-fluid"},ae={class:"row mt-3 justify-content-center"},ie={class:"col-8 GameArea"},ne={class:"row levelbutton"},re={class:"d-grid gap-2 d-md-flex justify-content-center mb-3 levebar",style:{width:"100"}},le=o(()=>e("button",{type:"button",class:"btn btn-primary",disabled:""},"關卡",-1)),ce=["onClick"],me={key:0,type:"button",class:"btn btn-primary",disabled:""},de={class:"row Game_Component"},ue={class:"col-3 card SideBar"},_e=o(()=>e("p",{class:"card-title h4 mt-3"},"功能區",-1)),be={class:"card-body",style:{"border-style":"none"}},he={class:"list-group mt-1"},pe=o(()=>e("img",{src:z,class:"img-hover-zoom"},null,-1)),ge=[pe],ve=o(()=>e("img",{src:D,class:"img-hover-zoom"},null,-1)),fe=[ve],Ge={key:0,class:"list-group-item"},ye=o(()=>e("img",{src:V,class:"img-hover-zoom"},null,-1)),we=[ye],Se=o(()=>e("img",{src:q,class:"img-hover-zoom"},null,-1)),Ce=[Se],Ne=o(()=>e("img",{src:B,class:"img-hover-zoom"},null,-1)),Te=[Ne],ke={key:3,class:"list-group-item"},xe=o(()=>e("img",{src:F,class:"img-hover-zoom"},null,-1)),Ie=[xe],Qe=o(()=>e("img",{src:M,class:"img-hover-zoom"},null,-1)),Le=[Qe],je=C('<a class="list-group-item" data-bs-toggle="modal" data-bs-target="#exampleModal" data-v-dbd1fc2b><img src="'+A+'" class="img-hover-zoom" data-v-dbd1fc2b></a><a class="list-group-item" data-v-dbd1fc2b><img src="'+E+'" class="img-hover-zoom" data-v-dbd1fc2b></a><a class="list-group-item" data-v-dbd1fc2b><img src="'+H+'" class="img-hover-zoom" data-v-dbd1fc2b></a>',3),Re=C('<div class="fade modal" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-v-dbd1fc2b><div class="modal-dialog modal-xl" data-v-dbd1fc2b><div class="modal-content" data-v-dbd1fc2b><div class="modal-header" data-v-dbd1fc2b><h1 class="modal-title fs-5" id="exampleModalLabel" data-v-dbd1fc2b>不會玩嗎?請看教學影片:</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-dbd1fc2b></button></div><div class="modal-body justify-content-center" data-v-dbd1fc2b><img src="'+J+'" data-v-dbd1fc2b></div><div class="modal-footer" data-v-dbd1fc2b><button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-v-dbd1fc2b>我知道了!</button></div></div></div></div>',1);function Ue(s,a,b,v,t,l){const f=_("router-link"),m=_("TrueFalseGame"),h=_("SelectGame"),p=_("NumberInputGame");return i(),r(w,null,[e("header",null,[e("nav",K,[W,e("div",X,[e("ol",Y,[Z,e("li",$,[ee,y(),T(f,{to:{name:"GameSelect",params:{id:this.Grade}}},{default:k(()=>[y(u(this.Grade)+" 年級 "+u(t.Subjects[t.Subject]),1)]),_:1},8,["to"])]),e("li",te,[se,e("a",null,u(this.Name),1)])])])])]),e("section",null,[e("div",oe,[e("div",ae,[e("div",ie,[e("div",ne,[e("div",re,[le,(i(!0),r(w,null,x(t.GameConfig.Questions,(n,d)=>(i(),r("div",{key:d,class:"grid-item"},[e("button",{type:"button",class:"btn btn-primary w-auto",onClick:G=>l.changelevel(d+1)},u(d+1),9,ce)]))),128)),t.GameStatus=="Progressing"?(i(),r("button",me,"時間 : "+u(t.time),1)):c("",!0)])]),e("div",de,[t.GameConfig.GameType=="TrueFalse"?(i(),g(m,{key:0,question:t.GameConfig.Questions[t.Nowlevel-1].Question,answer:t.GameConfig.Questions[t.Nowlevel-1].Answer,imgsrc:t.GameConfig.Questions[t.Nowlevel-1].img},null,8,["question","answer","imgsrc"])):c("",!0),t.GameConfig.GameType=="SelectGame"?(i(),g(h,{key:1,question:t.GameConfig.Questions[1].Question,imgsrc:t.GameConfig.Questions[1].img,answer:t.GameConfig.Questions[1].Answer},null,8,["question","imgsrc","answer"])):c("",!0),t.GameConfig.GameType=="NumberInputGame"?(i(),g(p,{key:2,question:t.GameConfig.Questions[t.Nowlevel-1].Question,answer:t.GameConfig.Questions[t.Nowlevel-1].Answer,imgsrc:t.GameConfig.Questions[t.Nowlevel-1].img},null,8,["question","answer","imgsrc"])):c("",!0)])]),e("div",ue,[_e,e("div",be,[e("div",he,[e("a",{class:"list-group-item",onClick:a[0]||(a[0]=n=>l.PreviousQuestion())},ge),e("a",{class:"list-group-item",onClick:a[1]||(a[1]=n=>l.NextQuestion())},fe),t.GameStatus=="Progressing"?(i(),r("a",Ge,we)):c("",!0),t.GameStatus=="NotStart"?(i(),r("a",{key:1,class:"list-group-item",onClick:a[2]||(a[2]=n=>l.StartGame())},Ce)):c("",!0),(t.GameStatus=="Progressing",i(),r("a",{key:2,class:"list-group-item",onClick:a[3]||(a[3]=n=>l.reloadPage())},Te)),t.GameStatus=="Progressing"?(i(),r("a",ke,Ie)):c("",!0),t.GameStatus=="Done"?(i(),r("a",{key:4,class:"list-group-item",onClick:a[4]||(a[4]=n=>l.tocsv(this.download_data))},Le)):c("",!0),je])])]),Re])])])],64)}const Me=P(O,[["render",Ue],["__scopeId","data-v-dbd1fc2b"]]);export{Me as default};
